# Maintainer: EndeavourOS <info@endeavouros.com>

pkgname=eos-rankmirrors
pkgver=2.1
pkgrel=3
pkgdesc="EndeavourOS mirror ranking tool"
arch=('any')

# url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
url="https://raw.githubusercontent.com/endeavouros-team/PKGBUILDS/master/$pkgname"

license=(GPL3)
depends=(eos-bash-shared)
options=(!strip !emptydirs)

source=(
  $url/$pkgname
  $url/eos-rankmirrors-from-hook
  $url/eos-rankmirrors.hook
  $url/eos-rankmirrors.conf
)
sha512sums=('bcf450c5822d5b64140419423771d41cfba5e4c8cf3b0c1492026bc4823381e456cf6a19c6858b1c6c8378de786aca56e702c2c8d5c59f4e9595ff82108cce06'
            '425da376a4ff075375cfb6c4bed2edfa7a8f8b9681a76dc4aa22d1fe35362148dec915e015e02a7b3d9d568711d0f3fb8a253831e3ae479ded988e75de20632b'
            '2d55a398ef739a9d0ef8b619d89f0b2c947e6292db6aaa09076ec394838a71017f1376caf21681933d2eb188e78e8ed4dd39ebc6c7e2047414f0a0d6dd707755'
            '718b2edd4337bcf96e1d210056cb8e4f16ff996db5d9ed7df84b1672612894a3b4d44bd999bd143c1ce35d8641050cba4de383adee7978bd19db00cc1994db56')

package() {
  local hooks=$pkgdir/usr/share/libalpm/hooks

  install -Dm644 eos-rankmirrors.hook      $hooks/eos-rankmirrors.hook

  install -Dm644 eos-rankmirrors.conf      $pkgdir/etc/eos-rankmirrors.conf

  install -Dm755 $pkgname                  $pkgdir/usr/bin/$pkgname
  install -Dm755 eos-rankmirrors-from-hook $pkgdir/usr/bin/eos-rankmirrors-from-hook
}
