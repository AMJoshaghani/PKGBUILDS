# Maintainer: EndeavourOS <info@endeavouros.com>

pkgname=eos-rankmirrors
pkgver=2.1.2
pkgrel=1
pkgdesc="EndeavourOS mirror ranking tool"
arch=('any')

# url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
url="https://raw.githubusercontent.com/endeavouros-team/PKGBUILDS/master/$pkgname"

license=(GPL3)
depends=(eos-bash-shared)
options=(!strip !emptydirs)

source=(
  $url/$pkgname
  $url/eos-rankmirrors-from-hook
  $url/eos-rankmirrors.hook
  $url/eos-rankmirrors.conf
)
sha512sums=('3ffdb36f1eabea7e93c39f403a2dd35854f52e2fb893e844358b09caa1e601eb5cff9fc335fce5a5c0c808a163e045b54db247c1d62903bd696cf585be9a7527'
            '9b131aede43e06cec24bd486069833a76bb9ef519f47eb99b7127629bf5114551ff4afe96762937571bda9ea01816e1b7edd83c31a3939830d1719c0e52317e2'
            'f01f6267f624992febfec29c76f2de1c503693086ade5783e2b9cbef359f5155bf6df520ff06299193c842aef2a05cac5078977ee0dabf55cff66f44aec6e44a'
            'c27d8f5bf87f9716b96b2ce01e2d2d43faa28dc2d15abf3cb4bf8eebac94b20ce2b3df90a0e1b8a73256f4872478584bbf6277c6f02c20269d91ae576d6938e7')

package() {
  local hooks=$pkgdir/usr/share/libalpm/hooks

  install -Dm644 eos-rankmirrors.hook      $hooks/eos-rankmirrors.hook

  install -Dm644 eos-rankmirrors.conf      $pkgdir/etc/eos-rankmirrors.conf

  install -Dm755 $pkgname                  $pkgdir/usr/bin/$pkgname
  install -Dm755 eos-rankmirrors-from-hook $pkgdir/usr/bin/eos-rankmirrors-from-hook
}
