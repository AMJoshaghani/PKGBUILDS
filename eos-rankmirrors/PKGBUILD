# Maintainer: EndeavourOS <info@endeavouros.com>

pkgname=eos-rankmirrors
pkgver=2.1.1
pkgrel=1
pkgdesc="EndeavourOS mirror ranking tool"
arch=('any')

# url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
url="https://raw.githubusercontent.com/endeavouros-team/PKGBUILDS/master/$pkgname"

license=(GPL3)
depends=(eos-bash-shared)
options=(!strip !emptydirs)

source=(
  $url/$pkgname
  $url/eos-rankmirrors-from-hook
  $url/eos-rankmirrors.hook
  $url/eos-rankmirrors.conf
)
sha512sums=('55add480816faf2304b5d0fa322d3836ca272cc4288f9053db29d5b46f2b984cc467fa68e3313eba8b26798eac1416f9dc6671611fbc82febe0e1e5174c7d743'
            'a27abf685e362f37b8a0e4e2b00c65feb30d767a3476498350ad86d7b7db9e557226a86092b9455dc70896b802e30264f5ec434385e321588eedb70a8e8c0f45'
            '2d55a398ef739a9d0ef8b619d89f0b2c947e6292db6aaa09076ec394838a71017f1376caf21681933d2eb188e78e8ed4dd39ebc6c7e2047414f0a0d6dd707755'
            '77c37144f1aa89d2e7a1595e14c34d84c3f286469d2a3e52c83a9367d917130741a9c3528ef59df2315f10f0946153d946dc89e6cbd7348d786950aff4959507')

package() {
  local hooks=$pkgdir/usr/share/libalpm/hooks

  install -Dm644 eos-rankmirrors.hook      $hooks/eos-rankmirrors.hook

  install -Dm644 eos-rankmirrors.conf      $pkgdir/etc/eos-rankmirrors.conf

  install -Dm755 $pkgname                  $pkgdir/usr/bin/$pkgname
  install -Dm755 eos-rankmirrors-from-hook $pkgdir/usr/bin/eos-rankmirrors-from-hook
}
