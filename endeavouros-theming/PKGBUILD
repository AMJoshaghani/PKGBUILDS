# Maintainer: joekamprad <joekamprad@endeavouros.com>
pkgname=endeavouros-theming
pkgver=5
pkgrel=2.2
pkgdesc='Default EndeavourOS background images and icons for all different DE'
arch=('any')
replaces=('EndeavourOS-theming')
url='https://www.endeavouros.com'
license=('GPL3')
_hooks_url=https://raw.githubusercontent.com/endeavouros-team/EndeavourOS-archiso/master/airootfs/etc/pacman.d/hooks

source=(
  "${pkgname}-${pkgver}.tar.gz::https://github.com/endeavouros-team/${pkgname}/archive/${pkgver}.tar.gz"
  $_hooks_url/os-release.hook
  $_hooks_url/lsb-release.hook
)
md5sums=('4369737559753b9980c17ad6b05cb39f'
         '89ae3dff8ce4a6a84b442604d4720b47'
         '23a25075d615bd9d7101e046f157e6b8')
install=$pkgname.install

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"
        install -d "${pkgdir}/usr/share/endeavouros"
	install -m644 *.png "${pkgdir}/usr/share/endeavouros"
	install -m644 *.svg "${pkgdir}/usr/share/endeavouros"
        install -d "${pkgdir}/usr/share/pixmaps"
	install endeavouros.svg "${pkgdir}/usr/share/pixmaps/endeavouros.svg"
	install -m644 endeavouros.svg "${pkgdir}/usr/share/pixmaps/endeavouros.svg"
	install endeavouros.png "${pkgdir}/usr/share/pixmaps/endeavouros.png"
	install -m644 endeavouros.png "${pkgdir}/usr/share/pixmaps/endeavouros.png"
        cd "${srcdir}/${pkgname}-${pkgver}/backgrounds"
	install -d "${pkgdir}/usr/share/endeavouros/backgrounds"
	install -m644 *.png "${pkgdir}/usr/share/endeavouros/backgrounds"

        cd $srcdir

        install -Dm644 lsb-release.hook $pkgdir/etc/pacman.d/hooks/lsb-release.hook
        install -Dm644 os-release.hook  $pkgdir/etc/pacman.d/hooks/os-release.hook
}
