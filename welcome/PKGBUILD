# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=welcome
pkgdesc="Welcome greeter for new EndeavourOS users."
pkgver=1.10
pkgrel=4
arch=('any')
license=('GPL')
depends=(bash yad reflector systemd)

url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"

source=(
  $url/$pkgname
  $url/$pkgname.desktop
  $url/eos-script-lib-yad
  $url/reflector-simple
)
sha512sums=('9779adfe1c82c1272612e3c082b036d58870199778cfd9768630884a84b990b7e42cc1eed1d619efb84a2d09745d6955210a1f538afc12ad0428176bbdb48e37'
            '87a44d71b2d084aad1f9f3b66481c4cb54de147231fa0f10674e8d62904e5ec4bc096d077501794d0ea73db36f45122a84fb1f7233d260f0e4d4a37a2f85bb85'
            'f9f01f7ca8ba5d8aa80f51b5803bc59803102c5dec1550fa920feb1cdd42733a08835fd737f22c50c492d16719e86e5ef25ce09b67a760ec9c91601523419fdf'
            'e7b2e002f482019e3108585476ce88ff2f3f6974ffd929c922cefa4526d2836b5972577e968f891fa8c254e1a9655ef99c465e05e93afc9a13d7b06fe3f597b1')

package() {
  cd $srcdir

  install -d $pkgdir/usr/share/endeavouros/scripts
  install -Dm755 $pkgname            $pkgdir/usr/share/endeavouros/scripts/$pkgname
  install -Dm644 eos-script-lib-yad  $pkgdir/usr/share/endeavouros/scripts/eos-script-lib-yad
  install -Dm644 $pkgname.desktop    $pkgdir/etc/xdg/autostart/$pkgname.desktop

  install -d $pkgdir/usr/bin
  ln -s /usr/share/endeavouros/scripts/$pkgname $pkgdir/usr/bin/eos-$pkgname
  install -Dm755 reflector-simple               $pkgdir/usr/bin/reflector-simple
}
