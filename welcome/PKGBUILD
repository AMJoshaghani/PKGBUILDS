# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=welcome
pkgdesc="Welcome greeter for new EndeavourOS users."
pkgver=1.11
pkgrel=1
arch=('any')
license=('GPL')
depends=(bash yad reflector systemd)

url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"

source=(
  $url/$pkgname
  $url/$pkgname.desktop
  $url/eos-script-lib-yad
  $url/reflector-simple
)
sha512sums=('f00fad469e26191b87df938b5745847da16dcf2ce167d8a0d5609ef72e804cc771c4841a85d738b2920292ca1e76e0c5922d656ea16f736cc4c5e85e3e4e7b31'
            '87a44d71b2d084aad1f9f3b66481c4cb54de147231fa0f10674e8d62904e5ec4bc096d077501794d0ea73db36f45122a84fb1f7233d260f0e4d4a37a2f85bb85'
            '68356a2d6ec267e6a9cfdf19387ee522d6b82cbb18f0c336dd0b91afbcc813083e0bd1e146f3cdb201e958136536f4c06f479e213b6627db6d7e464bd9d999f5'
            '52578324e0d462b4bf5421cdb711a0b9d13c99f24fdde687e91198cecefa32f91902c239c0430d9f6a68e2bf0d343c5ae92ddf6e18c75a4a561ea3a6f98832be')

package() {
  cd $srcdir

  install -d $pkgdir/usr/share/endeavouros/scripts
  install -Dm755 $pkgname            $pkgdir/usr/share/endeavouros/scripts/$pkgname
  install -Dm644 eos-script-lib-yad  $pkgdir/usr/share/endeavouros/scripts/eos-script-lib-yad
  install -Dm644 $pkgname.desktop    $pkgdir/etc/xdg/autostart/$pkgname.desktop

  install -d $pkgdir/usr/bin
  ln -s /usr/share/endeavouros/scripts/$pkgname $pkgdir/usr/bin/eos-$pkgname
  install -Dm755 reflector-simple               $pkgdir/usr/bin/reflector-simple
}
