# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=welcome
pkgdesc="Welcome greeter for new EndeavourOS users."
pkgver=1.10
pkgrel=1.2
arch=('any')
license=('GPL')
depends=(bash yad reflector systemd)

url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"

source=(
  $url/$pkgname
  $url/$pkgname.desktop
  $url/eos-script-lib-yad
  $url/reflector-simple
)
sha512sums=('9432f36ae104dbda66919541811d191f533adc34a2b232c2b84ac3b919609d8b0df577b2e9f58f44563fbccece9c0ef54f66741759869cad2b6f76f3e4283cef'
            '87a44d71b2d084aad1f9f3b66481c4cb54de147231fa0f10674e8d62904e5ec4bc096d077501794d0ea73db36f45122a84fb1f7233d260f0e4d4a37a2f85bb85'
            'f202e1a2448da3155e489ef09552a28795d3d5da7f79c1b392fa1a14dcc40750c73b0a680f2483e740e8906f121ba6690440eb7c115f5177dd7342cc74e73c5d'
            '1ab2b1d31c73e9bef2557e83165956535b6f68ad8ee7e00e768ea26415cea1465a91f597426c38843d0dc15075c1f9af0bbea5fabfd9d2e7ec5ee53a2bc32dd0')

package() {
  cd $srcdir

  install -d $pkgdir/usr/share/endeavouros/scripts
  install -Dm755 $pkgname            $pkgdir/usr/share/endeavouros/scripts/$pkgname
  install -Dm644 eos-script-lib-yad  $pkgdir/usr/share/endeavouros/scripts/eos-script-lib-yad
  install -Dm644 $pkgname.desktop    $pkgdir/etc/xdg/autostart/$pkgname.desktop

  install -d $pkgdir/usr/bin
  ln -s /usr/share/endeavouros/scripts/$pkgname $pkgdir/usr/bin/eos-$pkgname
  install -Dm755 reflector-simple               $pkgdir/usr/bin/reflector-simple
}
