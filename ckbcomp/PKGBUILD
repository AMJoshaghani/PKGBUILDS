#!/bin/bash

# Maintainer: EndeavourOS-Team <info@endeavouros.com>

# Ex-Maintainer:  Nissar Chababy <funilrys at outlook dot com>
# Ex-Maintainer:  Jeroen Bollen <jbinero at gmail dot comau>

pkgname=ckbcomp
_namesuffix='-debian'
_archivesuffix='/debian'
_parentname=console-setup
pkgver=1.213
pkgrel=1
pkgdesc="Compile a XKB keyboard description to a keymap suitable for loadkeys or kbdcontrol"
arch=(any)
url=https://salsa.debian.org/installer-team/$_parentname
license=('GPL2')
depends=('perl')
source=(https://salsa.debian.org/installer-team/console-setup/-/archive/debian/1.213/console-setup-debian-1.213.tar.gz)
sha512sums=('a12e1bc609528f795c0bdcc4e6f01de2bb02854770a5c315eec4acc851b55d89d909536bfd370f419073944de63ebc5328cac799443c102434ebe8feaa3ca3a8')

package() {
    cd ${_parentname}${_namesuffix}-$pkgver
    install -Dm755 Keyboard/ckbcomp ${pkgdir}/usr/bin/$pkgname

    rm -f ../${_parentname}${_namesuffix}-$pkgver.tar.gz   # cleanup
}
