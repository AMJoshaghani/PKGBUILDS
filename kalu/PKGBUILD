# Maintainer: jjacky

# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=kalu
pkgver=4.3.0
pkgrel=1
pkgdesc="Upgrade notifier w/ AUR support, watched (AUR) packages, news"
arch=('x86_64')
url="https://jjacky.com/kalu"
license=('GPL3+')
depends=('dbus' 'polkit' 'gtk3' 'pacman>=5.1' 'pacman<5.2' 'curl' 'libnotify'
         'notification-daemon')
makedepends=('perl' 'groff')
source=(https://jjacky.com/$pkgname/$pkgname-$pkgver.tar.xz)
sha1sums=('4e9fc8b311077d3720af8619de04c917c01acbfb')
sha512sums=(4fc8d77d8c8340e960335f614eea0503ba89d0fd99352618f9660bca8341aa13143d7ff0bd6d34779837581e889a1e83e666525d1be453ee42b44bed724dfe2b)
install=kalu.install

build() {
  cd "$srcdir/$pkgname-$pkgver"
  ./configure --prefix=/usr
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
  chmod 750          "$pkgdir/usr/share/polkit-1/rules.d"
  chown root:polkitd "$pkgdir/usr/share/polkit-1/rules.d"  # was 0:102
}

# vim:set ts=2 sw=2 et:
