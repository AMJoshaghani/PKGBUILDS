# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=eos-log-tool
pkgdesc="Gathers selected system logs and sends them to the internet."
url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
pkgver=1.14
pkgrel=5

arch=('any')
license=('GPL')
depends=(eos-bash-shared
         net-tools
         pciutils
         usbutils 
        )

optdepends=(
    'expac: for showing native packages (much faster)'
    'xclip: for automatic copying the returned URL to clipboard'
    'inxi: for inxi logs'
    'polkit: for pkexec'
)
backup=(etc/$pkgname.conf)

source=(
    $pkgname
    $pkgname.desktop
    $pkgname.conf
)
sha512sums=('ea0fde04300b17dc233f1d3259a5f75dc2d40a1c17f10850cb359ddefdfb765d5cd0f14c3352f30f1c3b23f2a6e35bba745a18cc0b2e47f640283a10b636b9c5'
            '177f28300b7721ae165afc651279d619dd2924496e2f727ea2c63c131070a0d727de71619a0cf8d359486f0f91f319e58946a066c8411500976f60ff30e7d3c3'
            '781f2d48101d0a0a23da049ccbaa70d3da30dda7e2e31458bcb671ceb25721dec86c7f32d87245554e5a3043cdf35fd9664761efe0a8cc82aeb982055488d229')

package() {
  install -Dm755 $pkgname                 $pkgdir/usr/bin/$pkgname
  install -Dm644 $pkgname.conf            $pkgdir/etc/$pkgname.conf

  install -d $pkgdir/usr/share/applications
  install -Dm755 $pkgname.desktop         $pkgdir/usr/share/applications/$pkgname.desktop
}
