# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=eos-update-notifier
pkgdesc="Software update notifier and 'news for you' for EndeavourOS users."
pkgver=0.5
pkgrel=9.1
arch=('any')
license=('GPL')
depends=(bash yad welcome xdg-utils wget)
url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
backup=(etc/$pkgname.conf)

source=(
  $url/$pkgname
  $url/$pkgname.conf
  $url/arch-news-for-you
  $url/$pkgname.desktop
  $url/$pkgname.timer
  $url/$pkgname.service
)
sha512sums=('1514936d9d79cf49bb1f96acbd50b9b7c22ee05f670545792cb7fe742bca69994aee5da9ebf66c53105adf05b87d2c020e23e1ebb808557899c96f4f952185bb'
            '1b2d139b748e4a49fee6df2f553808dafa29dce5d03a815353d71e754a7e067fe9d6a7bb82e99c81d6496c4fd8be6e7bb093a95b1d972f81d76cccfde442748c'
            'f24a27de20b126cf1f06655b1f88279d0b7dfadb18054b938f453dfcde3345450092588a80cce4b26a6bb7081147610082d23a6c5c0be31c5be6f51c50690137'
            '603a9c1a9d903b15f126cf56c79f974a577b06f62e6036caf523b8883df74ae017b5cd37c673299e220989f3e78824980b4b3f30b24037d37ab6523c0b91047a'
            'e8de7b750624fb3b72f2128ac6e31a2cacd3bfc25cd71868789a5962986ca2a98e17fb42d8e3ebb7c791780935d79a388bd929525d065e1673b0ddaa67e8c512'
            '0bdcd09c69e1fb9d7e28a9155e90c6c632c506d619685b8a8a417dd737d240a96cce77b3231a4644e9f79de9e7b3a0048d299476ad0c78076528c5389641af31')

package() {
  cd $srcdir

  install -Dm755 $pkgname            $pkgdir/usr/bin/$pkgname
  install -Dm755 arch-news-for-you   $pkgdir/usr/bin/arch-news-for-you
  install -Dm644 $pkgname.conf       $pkgdir/etc/$pkgname.conf
  install -Dm644 $pkgname.desktop    $pkgdir/etc/xdg/autostart/$pkgname.desktop
}
