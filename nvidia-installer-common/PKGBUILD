# Original Maintainer: Gustau Castells <karasu@antergos.com>
# Maintainer: @manuel
# Contributor: joekamprad <joekamprad@endeavouros.com>

pkgname=nvidia-installer-common
pkgver=1.4
pkgrel=3
pkgdesc="Common scripts for nvidia-installer-dkms and nvidia-inst"
url=https://github.com/endeavouros-team/PKGBUILDS/tree/master/$pkgname
_url=https://raw.githubusercontent.com/endeavouros-team/PKGBUILDS/master/$pkgname
arch=('any')
license=('GPL2')
depends=(
  dkms
)

optdepends=(
  'linux-headers: for nvidia-installer-dkms with kernel linux'
  'linux-lts-headers: for nvidia-installer-dkms with kernel linux-lts'
  'linux-hardened-headers: for nvidia-installer-dkms with kernel linux-hardened'
  'linux-zen-headers: for nvidia-installer-dkms with kernel linux-zen'
)

source=(
  $_url/nvidia-installer-kernel-para
  $_url/nvidia-driver-supported-branches
)
sha512sums=('98ceb7fb204bb9fef77af8e306c8e97c1f324372d2d2019295c52b0eb4357314e8af2ea7caa487b68d9907014ea70ab6edafa098cd9155fc71f11def3c8aa8b9'
            'f46dcf95cd1cdd584b29ce353bb9391ddba43e696e6d89b0b5f1ceaf18605707bb83ccbc3b2c8e5208c3bef0c3a8bc9b5174426d2c653f75fae4582854a34242')

package() {
  install -Dm755 nvidia-installer-kernel-para     $pkgdir/usr/bin/nvidia-installer-kernel-para
  install -Dm755 nvidia-driver-supported-branches $pkgdir/usr/bin/nvidia-driver-supported-branches
}
