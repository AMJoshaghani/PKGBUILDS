#!/bin/bash
#
# Checks that an internet connection exists.
# Return value is 0 on success, or another number on failure.
#
# Example usage:
#    eos-connection-checker && echo connection is ON
#    eos-connection-checker || echo connection is OFF

Main() {
    # This address will be used for checking the availability of internet access.
    # If you have issues with the address, please report this at this site:
    #     https://forum.endeavouros.com
    #
    local URL=https://geoip.kde.org/v1/calamares

    /usr/bin/curl --silent --fail --connect-timeout 8 "$URL" >/dev/null
}

Main "$@"
