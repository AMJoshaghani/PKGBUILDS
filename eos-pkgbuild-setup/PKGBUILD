#!/bin/bash

# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=eos-pkgbuild-setup
pkgdesc="Environment setup and tools for building EOS packages."
pkgver=2.7.5
pkgrel=1
arch=(any)
license=(GPL2)
url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/eos-pkgbuild-setup"
depends=(git hub yay curl wget xdg-utils)
backup=(etc/eos-mirrorcheck.conf)

source=(
    $url/$pkgname
    $url/assets.make
    $url/easy.make
    $url/add-release-assets
    $url/delete-release-assets
    $url/release-asset-names
    $url/eos-assets-sign
    $url/mirrorcheck
    $url/githubcheck
    $url/eos-mirrorcheck.conf
    $url/assets.conf.mirrors.mirror1
    $url/assets.conf.repo-testing.x86_64
)
sha512sums=('d8b5c598b82ce838527ae71729241ef3dca4d108871cb124000a9f5c7981169ec23e2025a82a1fdcf29887d9ac6c57cb23bb3473e217e2daf61a000c4e5c54a8'
            '612cb0b2f5fe967dd20e9c5800012bc250d874d7096c0a61e7d838a7cc548eb861be788422fedb7fdd5f58ce99689cfc50ebb882bbaaabfca49b8a484fd454db'
            '2dc4740d396f9f0c47585f205350d506aa8204cb60f225d798f3501ed5eec99fa641f8fe9275e5e52647c3aa830bacbddfd7030bdb44146f6b2133fb227955cb'
            '6bcd0a65b3634e193c3e8fb2e35f84d12d10a355e8f4d381106d2d467afc0bc08f35021733299c8bb973b59b21808bbf939fb1d63ff3210b007efdd8330a8f33'
            '185dd4b099b9397ba62a761612dbcac0d6dac69c3f464502119fc28c96d3aee725ee06664965495bb31b927cbde8824bcf96ddf335243a2a7f5f9f10e4343aac'
            '2be2d328754f46a6ec31e7435331a2df11eb7df1243b37280ad43040c1f77c6d03f09164a9f3d24448778eb821bc34a0cdc054c912039c98bc018aa540346309'
            '2f9b6bb737bf1dd1e39f63af8b8cefdeaa66aa6a01eae31136613e68ac8f6fb91035d67796d1c0b6e37a603c6a6529cd3931415ac1c805c8db8fb901b6baa3e9'
            'c2c234580ef408126ccc08d79ba1620933fe620e7bbc7b6d5a9aa72b8c018483cc099c9b1afd777435e761fced10edb59ac0ba66fc6f516293a44c2460fb85cb'
            '0f20e87fe913420e322e24c77a5bf049161f6f8a3b406c0d19b3a0c4d529d66fda09d2811ee03d7d9dd6e493f415d8b318cbd6548038abace560ec8bfc8379fe'
            '234ae02a021c822f4016d52fa1504c771d1c23a9089246fc5946e721f1659eeb13a84d6095194a69e8f297f712a613bf5a163fa222fc86875a8efd0abd3949c5'
            '2827e029285e64eb8b7c962fe8fe0cf4c40d2ac991097daa9c8159b4341a9261be959fbed00959aecadb3474e02475adfd1c99e64a476f0cf2504aff34d4066d'
            'f89f9ea29e3c47fe7d53de7410cb677a00fe1f51436000383740ce107b5c265f1ded4fa4b9e253e3669b6be53c2b4233f4859992319a4b489c91480a2c6da9cd')

package() {
    install -Dm755 $pkgname               $pkgdir/usr/bin/$pkgname
    install -Dm755 assets.make            $pkgdir/usr/bin/assets.make
    install -Dm755 easy.make              $pkgdir/usr/bin/easy.make
    install -Dm755 add-release-assets     $pkgdir/usr/bin/add-release-assets
    install -Dm755 delete-release-assets  $pkgdir/usr/bin/delete-release-assets
    install -Dm755 release-asset-names    $pkgdir/usr/bin/release-asset-names

    install -d                                      $pkgdir/usr/share/endeavouros/scripts
    install -Dm755 eos-assets-sign                  $pkgdir/usr/share/endeavouros/scripts/eos-assets-sign
    install -Dm755 mirrorcheck                      $pkgdir/usr/share/endeavouros/scripts/mirrorcheck
    install -Dm755 githubcheck                      $pkgdir/usr/share/endeavouros/scripts/githubcheck
    install -Dm644 assets.conf.mirrors.mirror1      $pkgdir/usr/share/endeavouros/scripts/assets.conf.mirrors.mirror1
    install -Dm644 assets.conf.repo-testing.x86_64  $pkgdir/usr/share/endeavouros/scripts/assets.conf.repo-testing.x86_64

    install -Dm644 eos-mirrorcheck.conf   $pkgdir/etc/eos-mirrorcheck.conf
}
